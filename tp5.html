<!DOCTYPE html>
<html>
	<head>
		<style>
			.carre{
			 	position : relative;
				background : red;
				width : 50px;
				height : 50px;  
			}
		</style>
		<script type="text/javascript">

		var j = 0;
		var tableauPOS = [];	//Tableau contenant les différentes positions des différents divisions.
		var tableauID = [];	//Tableau contenant les différents identifiants des divisions.
		
				     	      
		function initialisation()
		{
			for(var pas = 0; pas < 10; pas++)//On crée les divisions et initialise les tableaux.
			{
				div = document.createElement("div");
				div.id = "mycanvas" +pas;
				div.className = 'carre'; 
				document.body.appendChild(div);

				tableauPOS[pas] = 10;
				tableauID[pas] = pas;
			}
			setTimeout(changementID,3000);	//On attend 3 secondes avant de charger la fonction vitesse.
		}	
		

		function changementID() 
		{	
			if (j < 10) {
				position(j);	//On charge la fonction position pour l'id "j".
				++j;
							
			}
			setTimeout(changementID, 1000);	//Toutes les 1 secondes on appelle cette fonction pour charger un nouveau carré.
		}
		
		
		function position(i)
		{

			tableauID[i] = setInterval(function(){	//La fonction qui suit déplace la position du carré "i".
				var canvas = document.getElementById("mycanvas"+i); 	
				canvas.style.left = tableauPOS[i] + "px";	//Décalage du carré rouge de 10 pixels vers la droite.
				tableauPOS[i] += 10;
				if (tableauPOS[i] >= 600)
				{
			 		
			 		clearInterval(tableauID[i]);	//A 600 pixels, on arrète l'intervale de la fonction vitesse.
				}
			},100);	//On effectue cette fonction tout les dixièmes de seconde.
		   
		}
		
  		</script>
 	</head>
 	<body onload="initialisation()">
	</body>
</html>
